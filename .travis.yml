dist: trusty
addons:
  chrome: stable
language: java
jdk:
- oraclejdk8
sudo: required
services:
- docker
env:
  global:
  - TERM=dumb
  - MALLOC_ARENA_MAX=1
  - GRADLE_OPTS="-Xmx768m -Xms256m -XX:MaxPermSize=372m -XX:+CMSClassUnloadingEnabled"
  - GIT_NAME="Graeme Rocher"
  - GIT_EMAIL="graeme.rocher@gmail.com"
  - secure: hO4bH8dlS3RPTUZ8U8wxROBk3XzLHMzIKGp8UPXwL+TBxHXAQ1Gd6/XgCHViXjVhmXmeiqfyp4R1sn/DctKIg8BgInef+Dvf6WKtPc1VK2pyIZxkNoook8FBCuNQQfpgz4d1uXWUl2GdFFW0FuUpVAafbLLb3CiwBErx9WX8YzgGSW7XaqOmtbVhldE58mZlLidZS7bdYkWKM31PiL9V51oECmHMk8KS2MrBBFfsU/fo1LxTmiURRzrdT3XwquYvux4zHpHY4hPsN8+TdjEqGxy7OtPcEuigqYKW8AH8W95o4DJ4/fJhGKWJugxgCiLGm0d7NustmboPOBLLfCLXJcIsk2qOrYvrwaN3supjynt69m11kVfow5RZ40/+mgapcaHuELHKFLEluaBxww+1aguy5GCR4Ymwh7ADDfdDs0sPJEgIT48i/2TERHXiDy2FyUhrlLMIHuncmSEv7LveefBB64BQS41g2FhDnNNIV+y9+W87YfpsS8DX2u6pK9eJ9JZ6yON28u4djRHIG2yACFr65aDcdZSemJxezGV3LOeJOuSG0xI3/oFgI8Ust9QYkvVrSM2HDlor5rNFkiRddJarGJNBHO+0lqWrJSAW+JU/XAKl7BCWycCuOMQBLPtOgM6zPNbWeoPC5sCdo7J5xg5alVe1utoWd8zZ0CEk4Pw=
  - secure: Uc2aZvK5P58kywiHMrrd72e3ubxrtK1oPA0P7/dIT6ESjiuwbR5EwNwk6ilQ3FXDoI89PEJc4mAqUl1fG1mUlucVD3WtJeaTWZbnJKLaCam7PqrLsiWWkRaX0RkVSvC/QkIoqVO1S6IzJNXdkOEwkJneicvCJvfdtSyqTXol5v5J5lVZOLITZIiCgeJzbcpYR0vFBRczD0VruXL4Lf7wYm+nHxjGBvn7eBglYtcduwu5KNVSNO/xO7dCX8DCltAeEaB2LmOdtWYXMCiIZEjTaMoPeQkyb8h/VSew1/7+UdntDujsNsUUiPAnpC3x7T1LCPIsqXLi3aDu1aC7YOYSSKGHEvd2zVUeXpZGki0+JPdrBhhETNMyIK8iHVwMkaJITsaKYoumefgL2NPXgjWM2U76W1GD/pwT/Wvil1TzFs8ztd2esL8hO19PBgO29Un43lN5RNEh7DaqYe3lhUkyhuqAISRFvkydS/lgyoRjomscaxRudYLpS1TVavZJkfF626UNm2BegUamEVLl/fMZmxXsmG6Y7ZkOdA2iCjtwzPlQCqCz8mxnrJblRigGRH/S1tpagoTR+47+jynlmgGAhfKGDHyIntWu7X1v6arhJcA23+YjQ7lLpAW4oZjfhXzcIDn85cAbfWXTEfNOnFE4BELzaoTnqzs0hmGK48DGcVg=
  - secure: OWlR0mjeg6ICd4VbOpEJ0BDaa/qOGIcoUzb+YPsJEtrcCOmlnwgpNR/XR1wK7BdQ7BciFPNI5hGP67rPlU04UsISyFMmVTVcaXaeVCanS2Y+rOkYdoaGIAqtmTrHsxABih0wSV7TJOOsKkxbvD3/jou6jHnpZCIKEzCcDBNpYMeycQxT0l2nKeSOB87xIOSiQJkIguv4tW99scDen7icz+ilQ5qMTkpoPomaneTGJQaoE0KtulJ3chrQRMBSOE6/1lCLyt7o2HsSnTxj5WWiFNScZGanObBoDLOWkPiBCZ9FuRLgaY7QDn6IFJNM47Mx5b36afd9KBgHQjJ3/mPy2Z9moI78TU4rTl3/rPnTwckbPvuTCSez8v2QwKhW90uJ3JZxeLoxL6qD6oOl4YVw7CX7vU3GbgVTXJQuMkdVxOsNQkdCur4VE8Qxbw7dwvjFUQoJYiwHJuBLT/m0G2HSskVEHMdZmlf7JN5EiIa94Yi9kEvlr7bKi7lS5MHQijlaTesuzvODSc3SJdWJ89rxFI/48NM4FefiqQPsc5WKAQ8XyKrhQIoKYUwR6sLM9+Z+qR3q6QNqUWwbvZ+xS0HE2CfSeFWcR2Mxd+IE2NADsuriTAWmOToHFQy0B2yvMajfeUUh2oiN0ZcdhpLYy2uLxgfrBCC9qBkbFa7PZhb4QYQ=
  - secure: lA4XKVlU5tcGe87EF+PmNyhcQ2yK0pJrelGe1DQ9xu/m0HQ4NXe9r//LJNaRTeNaog2aBHZLnKQGocrtmus/SaM4uiT1X0Go2+WwV4Yf2bpipx2oUJJGKGIkMGxQzqnot//qj/IocovgFXjGr4ZqwWgLMWs/h/icisJf5+Lz2UOAhZ/BgAQ42tlFUOwRlFiwx7hv/RAgxpj28dXROrp+a11Vw58lHzRFCBS2U7LUM/w40aLM0ih2ruFhauUZ7rAkaDrlAyRwW+V5RQFP1NTFtG+7JWddnTdqCi9qB+/6qPIYmvV0wASEpo2pnsC+i71181uIqj+MBeTeejaNKNvPr8lbLMRQz1WpwSGWMJsUZZrPtLJUN81tC6xwTWGkbD7kUnGOGnPFrHKBrHcagxAgL6Lf/sv+bUFZ0clQp84vDzvm0MLa3KY5WUU2Pn6SYd9n4ZS9lHD/YsDRajdaVnIwSml1wWIdJ08t8A53519t0SJdLpZQEEhgUZboHfvBQKlHUYVEgY0iW5OoIBK1y6EeHbtMocg0GidUDpM+SSw3FnvnxKmENkYbcwtCZ4aVWER0GOvrJ0GHQpL/hxxuG8ZUQaDR5lh7iphxskXIYwnsnJtJha0V9omIIdQN6LtTlVCP1FEwlzW7O5sKeFIDDrdD+pVycbmPHYX8Y7DQmrG8BUs=
  - secure: cuRmZPYC5OQu8B+afvCKo4otB+/37KWEGZPL3ZNyfcNBh3D27IE7VlkhlZtM+SsjE7kcGbj5cOHkv8VxE9UUFppoFSQAkr+rgJ3Fdizk1/5fDJ8cBLj1NR0xoBZxxFpt+vJtY2CfalvRLX1BrH3ozcNLdqYWifd69so+dWxB5Dl0fSNJPwAvm1buSpHc5vErjDzioWH7TF2QwCiZVTtf4An5P9rDuLM8UPZW4ZstigJYWoi4Oinsdirc708w3MCuniik1/RiW0HBYkDDW4Nw8KBqnyWWhAxXB30PittqmCQhg+x0Y5F387/zwRKNM/ADiUO/z+3ZdLdt8l3R41hyPC7d8m0YdFzMjbXCSOWrfrtiPMZhdPHv261ZZqomln5c36dvwQ+kcA/AZSevl46UT4i0fgElfO6CQKgKEdSNBQCMtaQUIR+lngdJnUCmx4MKX4Koac4R9xOkVip0ndz87o9A59dGX1boExlFTKZoU4OO9BSoA1wCHdZQv6mxL9yaLnsyoi0TIqaHXGBLVYGuF74kMWnARpiUkBwod4UKEkryydT2zFXM1yw/I6mvb332VBokBI3l5vntAddra5TrhUy7N680j73DjFqeYkF/vafs8Gvcw4B/jsAf8QyJjxmqEyltUfRdYi4cIhjMjBLaiGRTbHj3yK5Zj3OCSx6s1LI=
  - secure: KiiBeMdzG2T7TFGYj9lli/custe8OMF9oPnzQg11kTs1nEkwQFcKAM9MT2owQfDlSTUBKKMob3pSttI20HKe3NEF+kghxt5NiFIo5b1FA7joFP8wdEGUwz5q5uFFd3T6npoZsgorNtgTL7TUPH3QZq/ukEPn864oPH9V0pprH0wqkm3p1bg05ytCKTypKQtum8E+ye2nbsg070zbL2gqO99GBiIEbgGFv7N9G0T0Cp/2N7s8oXp1VmywH+G0OgoA/K/UA5Ik5DouCyOINqz3hvMR2Qg9yXx2KZ8duBetiYFOesPZVgxncsiKfZPxvQS+bHfrMLjrRRydEjzTWR7tekfMVoGla6QjWH+Lf43azZfFzuuWHe4h6kZlq8vu8WxUYXi4By7TyxKMigC3r9/anoJrsViaBd0zcjHDOU6QPtfG/BJCQbx42AG3uURYuUXR47ZhmyNTB3Hq8OYVWSt/JpMDK46U+PPqIA98ABlE7TyAuSvH5uKcKZTM5rgWOc2t67oelld09ulP2GMJ2H9tyBNQFXO/wcZkt2FOZNx69um8JoKiKH5pe3ysztGuDjMdfUU76TfFUE2E25rwTWL2VfqdHhNCrvU/SHUT1JzoYfidmwvO+gyJ/2vnH6G5NzaKGNsoTgrvmnrCvPBwTU7tFgbo45pIToTIMFwzNwjkbAk=
  - secure: gDL+UmNAI33rSp82Mm1poecj5AJ6zAZ2ygJOTyixJocl6p/dk6e6MhQ3DLUnTROpFXlr8ymSi6LYvVWKI9PXnce/ZVLZHdiCKfuZsn93BI+w/HkVLa90MwYdg4K/Zrrqn7KhbLPdRXeSJwu0GxdYrsv4BPxpWkPuDLh07XNBOUcQDr/jkxpeGmCXd4Du3R1tcdA2eyC4f3YGt7/A09KgvVsHIFXCgDLkVfCVVI8fKoQ6SDcpC00btahKsitihViutGCijPAKI2A+AxWi0XI+Rv+5cvbAfhEM6gPa2cyw54O/qmdPaqebBpuO14rS+XpQgN8Yg/8VyEgraaE7WWC/6E+eh/buQboNKQpXn8IasN5RIvhw594yOyjeU89qwfrOgP1IWgNSCmF/v7c7QGwkRSWa+AmlNlSGx/8TM1mJjsoDrETOYlZKfsN9tqMtv9t8D7U1QEhkyo7/mAqL0+qhCSd3FDQID2vMKDQ+294HkxQViNY5SswcFkNx6GjQyZfJrfWLsIiACPI57VSeQ9yZMjsx3oIsXc7YKIzbFUpKTqkpshipVLxPGMmtZhmDxa3TbZD8wmRkN+j04RBX72MQxeje+l8Nk1F3lJH8v07h9qYGb7QUEBBdRY9VOnKeSDoHdXH9ENOjhTefJ4VC425RjETqUAc8aQTQn6mVimy4nZY=
  - secure: mwICCBCZLiUN1yKIvEAEIkDotu3afTo7pafmHCWqgjFCD499i7UNjUfVxBRjDluVIlzkxxInlN6KXAlm3JkuTid93XwgB96YCh/jK2lhv4xAXAlgBkh+uCjkWoblRyDBqIKf3QsCdKWBeAGgB0IqE4BI5U2opKMkke8aiD3mm9OUxSeGQmWzPsd1TuSa5hVypJytKHtbNGuKg178DCd+6h8MdHZBM8uiTX0fjOblTVm6VxEHkaXjpkGkaoIGupR02sxlAAFFKgCPJd1rsdz1L7yBNMUjwvEKlXign6DTCjr+nrT1K+jk8rdxHvqoRlGpW1cHSxsbhl6i8PomcdilkpRSux1kdp0s6nkeviZwL1jIf8VMeukrDlrPfNdreJCl5vgvdL2zt1wnxxu8knjBC0ENI/xgfDoOyrKKhSe7c+KmGjRA5xTnRZ00Wwam+94hUte4p1DrtrbRWFf0WlBlnMYCESfpDiHclS5NQMU3eMgcnBv06Fq0xT5dthItn3uRcVH9gAiAoffp3uuURpsvZVURHHtfNIaL6pIBwGMPQ1y57022a7hMmLTvbudbobGo26jwzB80YBDJnmMAUgPok9G9ALeK0wTeH0ZmuG4Gh+Fi9j25F+8Ux4soQ628U4Khg3XItqFptZFRhOOZRhza60Zt+S8cm7M9RL3NYcZrAFU=
  - secure: sk4U904U2LE9PXUog8dsON+fCcUUfui1bezfdUKV2GLISfUTsPTGxmGfoeAqA0hAMfk+TF3rxvuoRDKoJSgBFyOjENIbKT2t6XlNc9MR0LsNPK8R4Gpudqwx7PV2VMhLjQWd2hewjC/FTy7NX5vLvgSkmhmDOHkoLAd44HUSpTGiCERnKIdbOSoBGtrx3xsghf73Hk5G0rqpe8MHwXhtM9s4JqYrw+GFKiWEZu+NnZFii0H/+hhvVTAZjvkMJ7tx0uv58y+5ZkD1Ah5708OMKTezGuL3/AC/MWGFoIjq/thlRXwcOSFmtNV9RLRHITVuvLUUdcbCzBcOzcJgfInlpaDatAIfYRwE3GQpafCmHrlB3dvKCzd/EvSfAbiUQ751glDJqyTJbgQ2nCyaN9xDsoP3Ud5W+6QxmPVRB8byevvgRt/jWKre/tQeJkRHyQnmD+U3w2XxkAhxs1FJ9qNpDO6M05HzyOuSU8/DL14J9RWid3LB8vO7TQ9PiPgsJG4MdZD9nxMpiRQxcOja025ExQRtMUwcrgqyTi/O8RFFWTuOXfZddSY2vEeRVmuj5sGXkIX1S1Mil17CXdVSdbbPa5noag1WvwvTdYuehM2Hv78ed+SDN8mbOsqUQC5WcCaJG6joD+tiw3zw8VR9Ov6i1QxDH66zJchkM3lEHFNt034=
  - secure: PrAMVRAfswhqolT1YdWFGTg8nqYZU1+ch6UKMEg5Ep9Oaqj/goyJb+rrZlteFOt7B2PcAeQzF48bO9GyKwoTyq4F+Cq88CvU06tPtKEw81sDBFSNFxGcYunN99YVBgXGypFasZeSOAmmZJ2dcOjXmiQOMRywcOl5YP1iS1OtZGvQakw4spM2C7l6m9TuP4qZJ8s/PWCF3/vvbNg1OHjC6lybxMzpWHZUVMy0JADPCmR2IJWwn9h/UBjA47P/oXv6lCe+Wenpfq6dcqntBFqBNF4P+z+XYDr6c+Mbao6zyQHE8XCV68vwkRyV2m9DDQmmStC+3momHw9e5CpgCCuLkELfrPqy9HvKAS62d3tWSUPnl+Y2YPmw9h66Hm7GwrCmRLa0G88jkgQtVxSW8eQDPERtb8bYdop7eOJIuSI0UrZ9LIR3WfN7ordUkOo431ijzMD1CTuw6bshOWixd+Bzx3gSj03ZCQ5mUwL5kxbbCrQhqFivfIN4IUwq1bWq3nBoQP4Llk4dQ8iW2g1xtzvTYvoiWG11m6qEkkBFDWiTQf9F+WWlWjVv/6v9W1oAbzlfpCs19B23y0AFRXX9/Jcb4uX5cNJykq5WHvLtPy46igUf5FMyapQbS5HdmwllJmRdJ2JIGjSdw7CmTuWsgmJ4WBwqOaP0nJnoiBmxfb/ushY=
  - secure: Yl38Nxw7b+JQRQ5o7i+Ge0hlQbVoWZbYDMz5Nd0j+kteTbEIcalmaOBPd4ZRRHDcxh7jHKY+iXgOT4q2tUCiz0CmQ/EWKYKcgDyr6sQL/Nv2CT0vfG2PgIJSQ5pt2CD/BqqhqsUCVTloBKn2gfScP7pbjHiYf8qh/9gOuk47eMkQ2DYFb/YFis1fsBgWiEqIDWB2tSt4TX2YVOtWmRQeo46WjjDd8PiE5sAiOwsEU/K1Cnmh9WfmsJ5hStP8ynI4MQycWOaqW+ENvuwy+AW751POLb1BVy5ExxiL6t/4HIzX2/y2sQPVbFX7UfSkANaiLsTBZz/GoeGScmqLbIHwG8modvZnadmZGhPCwJ9JMyoHicEpGKBTt9hpQphSdP6dytDdqZrHrN2Qa8EuQvtPxjz3qf1k4fKprinCeBKGSzfRMIqbqUE6IA899GJWAbsR+GcfwE78eLSSnKoaXRiOqs97qGgGliNwMnSgKUV8vgIuF/2LAIVA3m+EQdiuYCVcNlQtN3pTgKef6LMASB+f4cdA4nPzum/wpqXE9JRJecMKxW2zBnoUom+Z0YC3xZJjaxJV+XQmJEgBPg7UHpbBa7CuDW4aDm8YIWXx+iTuMoDYYyRoXr5M/oozDA2CLjpq4SEx60ZDXroPcfRACtQRmFUvg8GoO3HbfBKYb4Zzhog=
  - secure: KxinuNzA3t4Ze+ZGQJ/NgFKe1LPUo4spWqUDUZS2fYNOg/c7uSkO5afkbEW4m5OwQkqXvkZFTKSS61RFG8clHbCOPKurWYnvdmDrF9nvZFcLPc5TKeGOOz+SLqYAX5GU/0IVI8Kd3rMQBgqsU7mOJJLMQRuD0aGF05Lle7VRbzHE8mEtd50bJu9JMm9wChkCl3LbAkkMnFMTQBr3aeNbrKkOKOBlJWa5cg4tKNqGubtIrWwWo388UunZ5JsdkgbXI0fQEodftTfezPrPEwh1W/34LfUdP0/kv7eBahzqkDlBTvvMEDZ/G/AK8dOay2ynp1aun79EGxP9YOvx8tTKYPXn82PmI7BZ0ys2piJT0NMAQWJtEp3jrgl4dt4h3iAp6pWzTYXoeeHjBMahdvq6yuLDnahoy/fwvi+LNRQHrNln00EY2ugnfPNQX9J+qbrdDheJnbbywdlEuhrpN8UiaTJPLPXnSpRAYxkQ7g3nuSn3v0phI4R6IqJ0kxDanu3GBP+s6x21J7I3nUgRd0Ib6rFmaU6TSjl5sDuo5c6NMnlctLrTKgq6/k4OABK9eE2VR8pZQnBsYKQfmg10ycqJT/LD3xYtsqSKg+ie1Yma3ePFkWJ2ELZwlw4uOOcYvmmqqliT02RXGViYSei5j78ygZFPsHmfAP8EMDpOTJlfHgM=
  - secure: jwBrvG09zUY9z1tE0lf5D7ogswRtrVTQxqfVpYZFa/dC0CrdjYzn8kOJANwnU32J4yAfBlnutVIu/4EwwEBf1esvEJxY55f/KOy7cYHVMZPVsLzLfpmyv/xViEP60LyyAz+fKwSt8iNNZeD0+FFiUStysMrEZ2sNkUozBEp2i/75dlZwaNmBLMrx3iasEjHHqgyMH8HZeGR2YQs8I4qiGzhFHo22RNSyrkumfFrJc4SEaaGv+0wxIM4MyHjSAYtPKw0OAFY9YGWyltnseNzaAKcINYEJE5j2SEgYt0j9quhCoR4fDcbQNO6/rp5lFdjyomr+ztbxnZDI0UWoID5C/h/fm5vpHQjsm+5ip1Q6G0j0KO9R8aYbChyC+08/yUTG95DKtCHI6BghLUR7EEHtvDqWEheXAGedTf97ExbT7APu34c+DXwpmD7KGB4mLpVrpMje3clUMui0i7i6d8eppjcz9cai0DCvIZVqWyc4qC9bzzJBiUiFKbOJvtxAXXsbvWAE7jEPBAjoGxx5mWF9ez/xe8Jgy8wDdltJG4+zYVvnZlS5753AuVdj8Q66ZjtFqMO9UeOQTyshnaAH1rlfjL2LapUgFZoZjuZmR8Otnzw2YWiH+gphckrS5Oxc53U1qK3OTLeC4at1PWM0mHqobi9Tm2rDxol3ji+ZrgVArkw=
install: "/bin/true"
script:
- if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then bash ./travis-build-pr.sh; fi
- if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then bash ./travis-build.sh; fi
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
